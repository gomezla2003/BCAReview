<?xml version="1.0" encoding="UTF-8"?>
<record_update table="sp_widget">
    <sp_widget action="INSERT_OR_UPDATE">
        <client_script><![CDATA[function($scope) {
  /* widget controller */
  var c = this;
	
	c.submit = function(){
		c.data.submit = true;
		c.server.update();
		swal("Thank You", "This workstation has been reviewed", "success").then(function() {
			window.location = '/csm';
		});
	}
	
	
		$(document).ready(function() {
			$(".checklist").contents().find(":checkbox").bind('change', function(){
		        val = this.checked; //<---
		        $(this).parent().toggleClass('checked');
			});
			$(".checklist").contents().find(":checkbox").bind('focus', function(){
		        val = this.focused; //<---
		        $('.focus').removeClass('focus');
		        $(this).parent().addClass('focus');
			});
		});
	
	
	
	
	 $( "#button" ).click(function() {
    $( "#button" ).addClass( "validate");
  });

	
	
}]]></client_script>
        <controller_as>c</controller_as>
        <css>a, a:active, a:hover {
  outline: 0;
}

img, legend {
  border: 0;
}

legend, td, th {
  padding: 0;
}

.clear, .clearfix:after, .row:after {
  clear: both;
}

blockquote, p {
  margin: 0 0 20px;
}

sub, sup, ul li {
  position: relative;
}

ul input, ul li.focus:before {
  left: 0;
  top: 0;
  position: absolute;
}

html {
  font-family: sans-serif;
  -ms-text-size-adjust: 100%;
  -webkit-text-size-adjust: 100%;
}

article,
aside,
details,
figcaption,
figure,
footer,
header,
hgroup,
main,
nav,
section,
summary {
  display: block;
}

audio, canvas, progress, video {
  display: inline-block;
  vertical-align: baseline;
}

audio:not([controls]) {
  display: none;
  height: 0;
}

[hidden], template {
  display: none;
}

a {
  background: 0 0;
  text-decoration: underline;
  -webkit-transition: color .2s ease-in-out;
  transition: color .2s ease-in-out;
  color: #3597eb;
}

abbr[title] {
  border-bottom: 1px dotted;
}

b, optgroup, strong {
  font-weight: 700;
}

dfn {
  font-style: italic;
}

mark {
  background: #ff0;
  color: #000;
}

sub, sup {
  font-size: 75%;
  line-height: 0;
  vertical-align: baseline;
}

sup {
  top: -.5em;
}

sub {
  bottom: -.25em;
}

svg:not(:root) {
  overflow: hidden;
}

hr {
  box-sizing: content-box;
  height: 0;
}

pre, textarea {
  overflow: auto;
}

code, kbd, pre, samp {
  font-family: monospace, monospace;
  font-size: 1em;
}

button, input, optgroup, select, textarea {
  color: inherit;
  font: inherit;
  margin: 0;
}


button {
  overflow: visible;
}

button, select {
  text-transform: none;
}

button, html input[type=button], input[type=reset], input[type=submit] {
  -webkit-appearance: button;
  cursor: pointer;
}

button[disabled], html input[disabled] {
  cursor: default;
}

button::-moz-focus-inner, input::-moz-focus-inner {
  border: 0;
  padding: 0;
}

input[type=checkbox], input[type=radio] {
  box-sizing: border-box;
  padding: 0;
}

input[type=number]::-webkit-inner-spin-button,
input[type=number]::-webkit-outer-spin-button {
  height: auto;
}

.clear, .container:after {
  visibility: hidden;
  height: 0;
  display: block;
}

input[type=search] {
  -webkit-appearance: textfield;
  box-sizing: content-box;
}

input[type=search]::-webkit-search-cancel-button,
input[type=search]::-webkit-search-decoration {
  -webkit-appearance: none;
}

fieldset {
  border: 1px solid silver;
  margin: 0 2px;
  padding: .35em .625em .75em;
}

table {
  border-collapse: collapse;
  border-spacing: 0;
}

.container:after {
  content: "\0020";
  clear: both;
}

.clearfix:after, .clearfix:before, .row:after, .row:before {
  content: '\0020';
  display: block;
  overflow: hidden;
  visibility: hidden;
  width: 0;
  height: 0;
}

.clearfix, .row {
  zoom: 1;
}

.clear {
  overflow: hidden;
  width: 0;
}

html {
  font-size: 6.25%;
}



a:focus, a:hover {
  color: #2c6596;
}

blockquote, blockquote p {
  font-style: italic;
}

blockquote {
  padding: 20px 20px 20px 40px;
  border-left: 2px solid #3597eb;
}

blockquote cite {
  display: block;
}

blockquote cite:before {
  content: "\2014 \0020";
}

ul li.checked .check:before, ul li.focus:before, ul span.input:before {
  content: "";
}

figure {
  margin: 0;
}

*, :after, :before {
  box-sizing: border-box;
}

body, html {
  height: 100%;
}



.container {
 width: 100%;
  margin: 50px auto;
  padding: 0 15px;
}

ul, ul li {
  margin: 0;
}

.checklist section {
  display: block;
  margin-bottom: 1.25rem;
  //max-width: 700px;
  background: #fff;
  box-shadow: 0 3px 40px 0 rgba(0, 0, 0, .15);
}

.checklist header {
  background: purple;
  text-align: center;
  color: #FFF;
  font-size: 18px;
  //font-size: 12rem;
  line-height: 1.3;
  text-transform: uppercase;
  padding: 20px 0;
  font-weight: 700;
}

ul {
  list-style: none;
  padding: 0;
}

ul li {
  padding: 0;
  color: #626262;
}

ul li.checked, ul li.checked a, ul li.checked a:hover {
  color: #b7b7b7;
}

ul li.focus {
  background: #fafafa;
}

ul li.focus:before {
  width: 3px;
  height: 100%;
  background: #A9CEFF;
}

ul label {
  font-size: 14px;
  //font-size: 14rem;
  line-height: 1.4;
  padding: 13px 24px 13px 64px;
  display: block;
  position: relative;
  z-index: 100;
}

ul input {
  opacity: 0;
}

ul span, ul span:after, ul span:before {
  display: block;
  position: absolute;
  background: #fff;
  border-radius: 50%;
}

ul span.input {
  background: -webkit-linear-gradient(top, #FCAA2C 0, #F58220 100%);
  background: linear-gradient(to bottom, #FCAA2C 0, #F58220 100%);
  width: 26px;
  height: 26px;
  left: 24px;
  top: 10px;
}

ul span.input:before {
  width: 22px;
  height: 22px;
  top: 2px;
  left: 2px;
}

ul li.checked {
  background: #f1f1f1;
}

ul li.checked label {
  text-decoration: line-through;
}

ul li.checked span.input {
  background: #dcdcdc;
}

ul li.checked span.input:before {
  display: none;
}

ul li.checked .check {
  width: 8px;
  height: 4px;
  border-radius: 1px;
  z-index: 2;
  top: 13px;
  left: 5px;
  -webkit-transform: rotate(45deg);
  -ms-transform: rotate(45deg);
  transform: rotate(45deg);
}

ul li.checked .check:before {
  width: 4px;
  height: 14px;
  border-radius: 1px;
  z-index: 2;
  left: 5px;
  top: -10px;
}

ul li.checked.focus:before {
  background: #888;
}


//SUBMIT BUTTON
$green: #1ECD97;
$gray: #bbbbbb;
* {
  font-family: 'Roboto', sans-serif;
}
.container2 {
  position: absolute;
  top:50%;
  left:50%;
  margin-left: -65px;
  margin-top: -20px;
  width: 130px;
  height: 40px;
  text-align: center;
}
button {
  outline:none;
  height: 40px;
  text-align: center;
  width: 130px;
  border-radius:40px;
  background: #fff;
  border: 2px solid $green;
  color:$green;
  letter-spacing:1px;
  text-shadow:0;
  font:{
    size:12px;
    weight:bold;
  }
  cursor: pointer;
  transition: all 0.25s ease;
  &amp;:hover {
    color:white;
    background: $green;
  }
  &amp;:active {
    //letter-spacing: 2px;
    letter-spacing: 2px ;
  }
  &amp;:after {
    content:"SUBMIT";
  }
}
.validate {
  font-size:13px;
  color: white;
  background: $green;
  &amp;:after {
    font-family:'FontAwesome';
    content:"\f00c";
  }
}</css>
        <data_table>sp_instance</data_table>
        <demo_data/>
        <description/>
        <docs/>
        <field_list/>
        <has_preview>false</has_preview>
        <id/>
        <internal>false</internal>
        <link/>
        <name>BCA Review</name>
        <option_schema/>
        <public>false</public>
        <roles/>
        <script><![CDATA[(function() {
  /* populate the 'data' object */
  /* e.g., data.table = $sp.getValue('table'); */
	var bca = gs.action.getGlideURI().get('bca');
	var valid = getBCADetails(bca);
	
	if(input){
		if(input.submit){
			createReview(bca);
		}
		
	}

})();

function createReview(bca){
	var gr = new GlideRecord('x_sthc_bca_review_table');
	gr.initialize();
	gr.setValue('bca_folder', input.bca_folder);
	gr.setValue('launch_bca', input.lanch_bca);
	gr.setValue('locate_bca', input.locate_bca);
	gr.setValue('locate_bca_binder', input.locate_bca_binder);
	gr.setValue('login_bca', input.login_bca);
	gr.setValue('login_windows', input.login_windows);
	gr.setValue('print_downtime', input.print_downtime);
	gr.setValue('print_report', input.print_report);
	gr.setValue('supply', input.supply);
	gr.setValue('view_reports', input.view_reports);
	gr.setValue('icon_desktop',input.icon_desktop);
	gr.setValue('labels',input.labels);
	gr.setValue('user',gs.getUserID());
	gr.setValue('bca', bca);
	gr.insert();
	
}

function getBCADetails(bca){
	var valid;
	var gr = new GlideRecord('cmdb_ci_computer');
	gr.addQuery('sys_id',bca);
	gr.query();
	while(gr.next()){
		data.number = gr.getDisplayValue('name');
		data.location = gr.getDisplayValue('location');
		data.valid = true;
	}
	return valid
	
}]]></script>
        <servicenow>false</servicenow>
        <sys_class_name>sp_widget</sys_class_name>
        <sys_created_by>LGOMEZ</sys_created_by>
        <sys_created_on>2018-08-07 16:48:12</sys_created_on>
        <sys_customer_update>false</sys_customer_update>
        <sys_id>dd8a92d5dbf3138096b17d8bbf9619af</sys_id>
        <sys_mod_count>60</sys_mod_count>
        <sys_name>BCA Review</sys_name>
        <sys_package display_value="BCA review" source="x_sthc_bca_review">2419da11dbf3138096b17d8bbf961919</sys_package>
        <sys_policy/>
        <sys_replace_on_upgrade>false</sys_replace_on_upgrade>
        <sys_scope display_value="BCA review">2419da11dbf3138096b17d8bbf961919</sys_scope>
        <sys_update_name>sp_widget_dd8a92d5dbf3138096b17d8bbf9619af</sys_update_name>
        <sys_updated_by>LGOMEZ</sys_updated_by>
        <sys_updated_on>2018-08-30 23:15:06</sys_updated_on>
        <template><![CDATA[<div ng-show="data.valid" class="container">
  <div class="checklist">
    <section>
      <header>BCA Review for workstation {{data.number}} {{data.location}}</header>

      <ul>
        <li>
          <input type="checkbox"  ng-model="data.locate_bca" name="item_1" id="item_1"><label for="item_1">Able to locate the BCA (downtime) computer</label><span class="input"><span class="check"></span></span>
        
        </li>

        <li>
          <input type="checkbox" ng-model="data.locate_bca_binder" name="item_2" id="item_2"><label for="item_2">Able to locate BCA binder near the BCA computer</label><span class="input"><span class="check"></span></span>
        </li>

        <li>
          <input type="checkbox" ng-model="data.login_windows" name="item_3" id="item_3"><label for="item_3">Able to log into windows using the BCA Username and Password on the BCA computer </label><span class="input"><span class="check"></span></span>
        </li>

        <li>
          <input type="checkbox" ng-model="data.icon_desktop" name="item_4" id="item_4"><label for="item_4">Confirm "Epic BCA Printing 2017" icon is on the desktop</label><span class="input"><span class="check"></span></span>
        </li>

       <li>
          <input type="checkbox" ng-model="data.launch_bca" name="item_6" id="item_6"><label for="item_6">Upon windows login,  confirm BCA Application auto launches within 90 secs </label><span class="input"><span class="check"></span></span>
        </li>
        
        <li>
          <input type="checkbox" ng-model="data.login_bca" name="item_5" id="item_5"><label for="item_5">Able to Log into the BCA Application using Epic Username and Password</label><span class="input"><span class="check"></span></span>
        </li>
        
        
         <li>
          <input type="checkbox" ng-model="data.view_reports" name="item_7" id="item_7"><label for="item_7">Able to view BCA Reports</label><span class="input"><span class="check"></span></span>
        </li>

        <li>
          <input type="checkbox" ng-model="data.print_report" name="item_8" id="item_8"><label for="item_8">Able to print 1 BCA Report to the locally attached printer</label><span class="input"><span class="check"></span></span>
        </li>

        <li>
          <input type="checkbox" ng-model="data.bca_folder" name="item_9" id="item_9"><label for="item_9">Able to locate the "Downtime Forms" folder</label><span class="input"><span class="check"></span></span>
        </li>

        <li>
          <input type="checkbox" ng-model="data.print_downtime" name="item_9" id="item_9"><label for="item_9">Able to print 1 downtime form from within the "Downtime Forms" folder</label><span class="input"><span class="check"></span></span>
        </li>

        <li>
          <input type="checkbox" ng-model="data.supply" name="item_10" id="item_10"><label for="item_10">Have enough supply of printed downtime forms for use</label><span class="input"><span class="check"></span></span>
        </li>
        
		<li>
          <input type="checkbox" ng-model="data.labels" name="item_11" id="item_11"><label for="item_11">Have enough supply of Avery 5160 Label sheets to print ADT labels</label><span class="input"><span class="check"></span></span>
        </li>
       
      </ul>
      
      
  <button ng-click="c.submit()" id="button"></button>

      
    </section>
  </div>
</div>]]></template>
    </sp_widget>
</record_update>
